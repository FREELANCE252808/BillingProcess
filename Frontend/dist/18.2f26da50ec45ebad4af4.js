(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"6VUo":function(t,e){t.exports=""},"7QaQ":function(t,e,n){"use strict";n.r(e);var o=n("CcnG"),i=n("Ip0R"),r=n("ZYCi"),a=n("gIcY"),s=n("A7o+"),l=n("bse0"),c=n("v9Dh"),p=n("vARd"),m=n("4tE/"),d=n("jQLj"),h=n("SMsm"),u=n("uGex"),g=n("9It4"),f=n("FVSy"),D=n("Wf4p"),b=n("o3x0"),v=n("La40"),y=n("b716"),C=n("J12g"),I=n("jlZm"),R=n("kWGw"),P=n("de3e"),S=n("w+lc"),F=n("4epT"),j=n("Blfk"),T=n("OkvK"),k=n("BHnd"),w=n("UodH"),A=n("mVsa"),O=n("Z+uX"),M=n("t/Na"),x=n("ofOD"),L=n("pKmL"),E=n("1a+Q"),U=n("txLi"),G=n("kIO7"),H=n("SVVA"),N=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},$=[],B=function(){function t(){}return t=N([Object(o.NgModule)({imports:[r.RouterModule.forChild($)],exports:[r.RouterModule]})],t)}(),_=n("F/XL"),J=n("LvDl"),W=n("XJP/"),V=n("leVn"),Q=n("ynQB"),K=n("3EpR"),X=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Y=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Z=function(t,e){return function(n,o){e(n,o,t)}},q=function(){function t(t,e,n,o,i,r,a){this.toastr=t,this.dialogRef=e,this.loaders=n,this.layoutUtilsService=o,this.translate=i,this.commentResolutionService=r,this.data=a,this.FileID=0,this.uid=0,this.Compid=0,this.popupPageCommentDetailsID=0,this.vstr="",this.lineItemTitle="",this.showpopupControls=!1,this.IsResponseAgainstReject=!1,this.linepageCommentStatusID=0,this.linepageCommentDetailsID="",this.IsApprover=!1,this.loaderShow=!1,this.txtcomment="",this.showpopupControls=a.Diadata.showpopupControls,this.vstr=a.Diadata.innerHtm,this.FileID=a.Diadata.FileID,this.popupPageCommentDetailsID=a.Diadata.popupPageCommentDetailsID,this.IsResponseAgainstReject=a.Diadata.IsResponseAgainstReject,this.linepageCommentStatusID=a.Diadata.linepageCommentStatusID,this.linepageCommentDetailsID=a.Diadata.linepageCommentDetailsID,this.lineItemTitle=a.Diadata.lineItemTitle,this.IsApprover=a.Diadata.IsApprover,this.Compid=a.Diadata.Compid,this.uid=a.Diadata.uid}return t.prototype.ngOnInit=function(){this.loaderShow=!0,this.loaders.start(),this.loaders.complete(),this.loaderShow=!1},t.prototype.AcceptandClose=function(t){var e=this;this.loaderShow=!0,this.loaders.start(),this.commentResolutionService.AcceptComment(t,this.uid.toString(),this.Compid.toString()).subscribe(function(t){"S"==t.MessageType?(e.IsResponseAgainstReject=!1,e.loaderShow=!1,e.loaders.complete(),e.toastr.successToastr("Comment has been successfully closed.","Success!"),e.dialogRef.close({data:t,IsResponseAgainstReject:!1})):"E"==t.MessageType&&e.toastr.errorToastr("Something Went Wrong","Error!")},function(t){})},t.prototype.SaveComment=function(t){var e=this,n=this.txtcomment;if(void 0!=n&&""!=n.trim()&&null!=n){var o={strresponsetext:this.IsResponseAgainstReject?this.IsApprover?"":n:"",strResponseAgainstReject:this.IsResponseAgainstReject?"":this.IsApprover?"":n,strCommentReject:this.IsApprover?n:"",FileID:this.FileID,CommentStatusID:this.linepageCommentStatusID.toString(),strPageCommentID:t};this.loaderShow=!0,this.loaders.start(),this.commentResolutionService.SaveCommentResponse(o,this.uid.toString(),this.Compid.toString()).subscribe(function(n){"S"==n.MessageType?(e.popupPageCommentDetailsID=+t,e.txtcomment="",e.loaderShow=!1,e.loaders.complete(),e.toastr.successToastr("Commented Successfully.","Success!"),e.dialogRef.close({data:n,popupPageCommentDetailsID:+t})):"E"==n.MessageType&&e.toastr.errorToastr("Something Went Wrong","OOPS!")},function(t){console.log("error ",t)})}else this.toastr.errorToastr("Please enter comment text","Hola!")},t.prototype.closePopUp=function(){this.dialogRef.close({})},t=X([Object(o.Component)({selector:"m-commetResolutionPopup",template:n("jIuU"),styles:[n("RJ/8")]}),Z(6,Object(o.Inject)(b.a)),Y("design:paramtypes",[K.a,b.e,Q.b,V.a,s.b,W.a,Object])],t)}(),z=n("i0At"),tt=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nt=function(){function t(t,e,n,o,i,r){var a=this;if(this.loaders=t,this.dialog=e,this.taskDetailsService=n,this.commentResolutionService=o,this.activatedRoute=i,this.datePipe=r,this.FileID="0",this.IsApprover=!1,this.Compid=0,this.hostPathStr="",this.loaderShow=!1,this.lineItemTitle="",this.linepageCommentDetailsID="",this.linepageCommentStatusID=0,this.IsResponseAgainstReject=!1,this.showpopupControls=!0,this.headertext="",this.vStr="",this.uid=0,"id"in this.activatedRoute.snapshot.params)this.activatedRoute.params.subscribe(function(t){a.FileID=t.id});this.uid=JSON.parse(localStorage.getItem("UserID")),this.Compid=JSON.parse(localStorage.getItem("CompanyID")),this.popupPageCommentDetailsID=0,this.LoadCommentResoulion()}return t.prototype.ngOnInit=function(){var t=this;this.taskDetailsService.GetHostPath().subscribe(function(e){void 0!=e.list&&(t.hostPathStr=e.list[0])})},t.prototype.LoadCommentResoulion=function(){var t=this;this.loaderShow=!0,this.loaders.start(),this.commentResolutionService.getCommentResolution(this.FileID,this.uid.toString(),this.Compid.toString()).subscribe(function(e){null!==e?(t.headertext="Comment resolution for '"+e[0].FileName+"' of "+e[0].TaskName+" "+e[0].ProjectName,t.lineUserType$=Object(_.a)(J.clone(e[0].Flag)),t.ApproveCommentdisabled=J.clone(e[0].ApproveCommentdisabled),t.lineUserType$.subscribe(function(e){void 0!==e&&null!==e&&(t.IsApprover="c"==e.toLowerCase())},function(t){console.log("Error in retrieving data")}),t.PageCommentDetail$=Object(_.a)(J.clone(e[0].FilePageCommentDetail)),t.PageCommentHistory$=Object(_.a)(J.clone(e[0].FilePageCommentHistory)),t.PageComment_images$=Object(_.a)(J.clone(e[0].FilePageComment_images)),t.popupPageCommentDetailsID>0&&t.CreatePopUpData(t.popupPageCommentDetailsID),t.loaders.complete(),t.loaderShow=!1):(t.headertext="",t.loaders.complete(),t.loaderShow=!1)},function(t){console.log("Error in retrieving data")}),this.commentResolutionService.GetCommentResolutionAttachment(this.FileID,this.uid.toString(),this.Compid.toString()).subscribe(function(e){"S"==e.MessageType&&(t.PageComment_attchment$=Object(_.a)(J.clone(e.list[0])))},function(t){})},t.prototype.openCommentHistoryPopUp=function(t,e){var n=this;this.txtcomment="",this.vStr="",this.PageCommentDetail$.subscribe(function(o){if(null!==o){var i=o.filter(function(e){return e.PageCommentDetailID===t});void 0!=i&&(n.lineItemTitle=e+" . "+i[0].Item)}},function(t){console.log("Error in retrieving data")}),this.CreatePopUpData(t)},t.prototype.CreatePopUpData=function(t){var e=this;this.vStr="",this.PageCommentDetail$.subscribe(function(n){if(null!==n){var o=n.filter(function(e){return e.PageCommentDetailID===t});void 0!=o&&(e.linepageCommentDetailsID=t,e.linepageCommentStatusID=o[0].CommentStatusID)}},function(t){console.log("Error in retrieving data")}),this.PageCommentHistory$.subscribe(function(n){if(null!==n){var o=n.filter(function(e){return e.PageCommentDetailID===t});if(void 0!=o){for(var i=0;i<o.length;i++)"Accepted"==o[i].CommentStatusName&&5==o[i].CommentStatus?e.showpopupControls=!1:e.showpopupControls=!0,e.vStr=e.vStr+"<div class='post out'><div class='message'><span class='arrow'></span><span class='body'><i><strong>"+o[i].CreatedBy+"</strong></i><br/>&nbsp"+o[i].CommentText+" <i>- "+e.datePipe.transform(o[i].CreatedOn,"dd/MM/yyyy  h:mm:ss a")+"</i></span></div></div>&nbsp",void 0!=o[i].ModifiedBy&&null!=o[i].ModifiedBy&&o[i].ModifiedBy.length>0&&(e.vStr=e.vStr+"<div class='post in'><div class='message'><span class='arrow'></span><span class='body'><span><i style='float:right'><strong>"+o[i].ModifiedBy+"</strong></i></span><br/>&nbsp<span style='float:right'>"+o[i].Response+" <i>- "+e.datePipe.transform(o[i].ModifiedOn,"dd/MM/yyyy  h:mm:ss a")+"</i></span></span></div></div>&nbsp");1!=o.length||e.IsApprover||(e.IsResponseAgainstReject=!0)}var r={innerHtm:e.vStr,IsApprover:e.IsApprover,linepageCommentDetailsID:e.linepageCommentDetailsID,IsResponseAgainstReject:e.IsResponseAgainstReject,linepageCommentStatusID:e.linepageCommentStatusID,PageCommentDetailID:t,FileID:e.FileID,lineItemTitle:e.lineItemTitle,showpopupControls:e.showpopupControls,popupPageCommentDetailsID:e.popupPageCommentDetailsID,uid:e.uid,Compid:e.Compid};e.dialog.open(q,{data:{Diadata:r}}).afterClosed().subscribe(function(t){void 0!=t&&void 0!=t.data&&"S"==t.data.MessageType&&e.LoadCommentResoulion()})}},function(t){console.log("Error in retrieving data")})},t.prototype.AllCommentResolved=function(){return"Y"==this.ApproveCommentdisabled},t.prototype.GotoPDF=function(){window.open(this.hostPathStr+"assets/PDFJs/viewer.html?FileID="+this.FileID+"&&Flter=1&&UserID="+this.uid+"&&Dwgpdffileid=0&&CompanyID="+this.Compid,"_blank")},t.prototype.ApproveFile=function(){var t=this;this.commentResolutionService.ApproveFile(this.FileID,this.uid.toString(),this.Compid.toString()).subscribe(function(e){"S"==e.MessageType&&t.LoadCommentResoulion()},function(t){})},t=tt([Object(o.Component)({selector:"app-commentResolution",template:n("tLe4"),styles:[n("6VUo")]}),et("design:paramtypes",[Q.b,b.c,z.a,W.a,r.ActivatedRoute,i.DatePipe])],t)}();n.d(e,"CommentResolutionModule",function(){return rt});var ot=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},it=[{path:"",component:nt,children:[{path:"",redirectTo:"primary",pathMatch:"full"}]}],rt=function(){function t(){}return t=ot([Object(o.NgModule)({declarations:[nt,q],imports:[E.a,i.CommonModule,B,r.RouterModule.forChild(it),a.g,a.l,s.a.forChild(),x.a,L.a,l.b,y.b,F.b,j.a,T.b,k.b,u.b,A.a,O.a,w.a,P.a,b.d,v.a,D.o,f.a,g.a,h.a,d.b,m.a,p.c,c.a,S.a,R.a,I.a,C.c,y.b,H.ngfModule,K.b],entryComponents:[nt,q],providers:[{provide:b.b,useValue:{hasBackdrop:!0,panelClass:"m-mat-dialog-container__wrapper",height:"auto",width:"900px"}},{provide:M.a,useClass:U.a,multi:!0},G.a,W.a,z.a,i.DatePipe]})],t)}()},"RJ/8":function(t,e){t.exports=":host .m-loading-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100%; }\n\n:host ::ng-deep .mat-progress-bar-background {\n  opacity: 0; }\n\n:host ::ng-deep .mat-progress-bar-buffer {\n  opacity: 0.3; }\n"},i0At:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n("CcnG"),i=n("t/Na"),r=n("OiFK"),a=n("kIO7"),s=function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.http=t,this.util=e,this.httpUtils=n}return t.prototype.GetTaskDetails=function(t){return this.http.get("api/TaskList/GetTaskDetailData?TaskID="+t)},t.prototype.GetTaskFileDetails=function(t,e,n,o,i){return this.http.get("api/TaskFileDetail/GetTaskFileDetail?ProjectID="+t+"&TaskID="+e+"&WorkflowID="+n+"&TaskOwner="+o+"&ProjectLeader="+i)},t.prototype.GetMaterialLineItemData=function(t,e,n){return this.http.get("api/TaskFileDetail/getMaterialTrackingData?ProjectID="+t+"&TaskID="+e+"&ProjectWorkFlowID="+n)},t.prototype.UploadTaskFileDetail=function(t){return this.http.post("api/TaskFileDetail/PostFile",t)},t.prototype.GetHostPath=function(){return this.http.get("api/TaskFileDetail/GetHostPath")},t.prototype.DownloadFile=function(t){return this.http.get("api/TaskFileDetail/DownloadFile?FileID="+t,{responseType:"blob"})},t.prototype.deleteFile=function(t){return this.http.delete("api/TaskFileDetail/DeleteFile?FileIDs="+t)},t.prototype.SelfApproveFile=function(t){return this.http.delete("api/TaskFileDetail/SelfApproveFile?FileIDs="+t)},t.prototype.GetMaterialTrackingDetails=function(t,e,n,o){return this.http.get("api/TaskFileDetail/GetMaterialTrackingDetails?ProjectID="+t+"&TaskID="+e+"&ProjectWorkFlowID="+n+"&TaskTypeCategoryID="+o)},t.prototype.AddMaterialTrackingDetails=function(t){return this.http.post("api/TaskFileDetail/AddMaterialTrackingDetails",t)},t=s([Object(o.Injectable)({providedIn:"root"}),l("design:paramtypes",[i.b,r.a,a.a])],t)}()},jIuU:function(t,e){t.exports='\r\n<mat-card style="background-color:#E9EDEF;">\r\n\t<mat-card>\r\n\t\t<span *ngIf="(loaderShow)">\r\n\t\t\t<mat-progress-bar mode="indeterminate" *ngIf="(loaders.progress$|async) > 0"></mat-progress-bar>\r\n\t\t</span>\r\n\t\t<div class="m-portlet__head">\r\n\t\t\t<div class="m-portlet__head-caption">\r\n\t\t\t\t<h4 class="modal-title">Comment\'s history of {{lineItemTitle}}</h4>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</mat-card>\r\n\r\n\r\n\t<mat-card class="matContent">\r\n\t\t<div class="m-portlet__head-title">\r\n\t\t</div><hr>\r\n\t\t<perfect-scrollbar class="m-scrollable m-scroller" style="height: 40vh;">\r\n\t\t\t<div class="mPortletBody" [innerHTML]="vstr | safe">\r\n\t\t\t</div>\r\n\t\t</perfect-scrollbar>\r\n\t</mat-card>\r\n\t<div class="page-quick-sidebar-chat-user-form" *ngIf="showpopupControls">\r\n\r\n\t\t<div class="col-md-12 m--margin-bottom-10-mobile">\r\n\t\t\t<textarea [(ngModel)]="txtcomment" id="console" rows="3" placeholder="Enter comment here..." class="form-control"></textarea>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div style="padding-left:2px" class="input-group-btn">\r\n\t\t\t<button type="button" class="btn green" (click)="SaveComment(linepageCommentDetailsID);">\r\n\t\t\t\t<i class="fa fa-send"></i> Send\r\n\t\t\t</button>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\t<mat-card class="matContent">\r\n\t\t<button *ngIf="IsApprover==true && showpopupControls==true" class="btn blue fileinput-button" (click)="AcceptandClose(linepageCommentDetailsID);"><i class="fa fa-check-circle"></i> Accept &amp; Close </button>\r\n\t\t<button type="button" data-dismiss="modal" (click)="closePopUp()" class="btn dark btn-outline">Close</button>\r\n\t</mat-card>\r\n</mat-card>\r\n'},tLe4:function(t,e){t.exports='<div class="row">\r\n\t<div class="col-md-12">\r\n\t\t<div class="portlet light portlet-fit bordered">\r\n\t\t\t<div class="portlet-body">\r\n\t\t\t\t<span *ngIf="(loaderShow)">\r\n\t\t\t\t\t<mat-progress-bar mode="indeterminate" *ngIf="(loaders.progress$|async) > 0"></mat-progress-bar>\r\n\t\t\t\t</span>\r\n\t\t\t\t<div class="tab-content">\r\n\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t<div class="col-md-12">\r\n\t\t\t\t\t\t\t<div class="portlet">\r\n\t\t\t\t\t\t\t\t<div class="portlet-title">\r\n\t\t\t\t\t\t\t\t\t<div class="clearfix">\r\n\t\t\t\t\t\t\t\t\t\t<h4>{{headertext}}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<a *ngIf="IsApprover==true" class="btn btn-xs blue" (click)=" GotoPDF();" href="javascript::void(0);"><i class="fa fa-paperclip"></i> Marked-up PDF </a>\r\n\t\t\t\t\t\t\t\t\t\t<a *ngIf="IsApprover==false" class="btn btn-xs blue" (click)=" GotoPDF();" href="javascript::void(0);"><i class="fa fa-file-pdf-o"></i> Return to PDF </a>\r\n\t\t\t\t\t\t\t\t\t\t<button *ngIf="IsApprover==true" [disabled]="!AllCommentResolved()" (click)="ApproveFile();" class="btn btn-xs blue"><i class="fa fa-check-square"></i> Approve </button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="portlet-body">\r\n\t\t\t\t\t\t\t\t\t<div class="table-scrollable">\r\n\t\t\t\t\t\t\t\t\t\t<table class="table table-striped table-bordered table-advance table-hover">\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSr No\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="hidden-xs">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tItem\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tChecker\'s Comment\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tOwner\'s Response\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tComment By\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th class="hidden-xs">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tManage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor="let cmntDetails of PageCommentDetail$|async; let i=index">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{i+1}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{cmntDetails.Item}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class="table table-striped ">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor="let cmnthstory of PageCommentHistory$|async ;let j=index">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template [ngIf]="cmnthstory?.PageCommentDetailID == cmntDetails?.PageCommentDetailID">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="min-height:60px;">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="j==0;else rejectedcomment">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{cmnthstory.CommentText}}<br>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor="let cmntimgs of PageComment_images$|async">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="cmntimgs?.PageCommentDetailID == cmntDetails?.PageCommentDetailID">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a (click)="OpenCommentimages(cmntimgs)"><i class="fa fa-paperclip"></i> {{cmntimgs.FileName}}</a><br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--<ng-template #otherformatblock>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <a (click)="OpenCommentimages(cmntimgs)">{{cmntimgs.FileName}}</a><br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>--\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{{cmnthstory.CreatedBy}} - {{cmnthstory.CreatedOn|date:\'dd/MM/yyyy h:mm:ss a\'}}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template #rejectedcomment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{cmnthstory.CommentText}}<br><i>{{cmnthstory.CreatedBy}} - {{cmnthstory.CreatedOn|date:\'dd/MM/yyyy h:mm:ss a\'}}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class="table table-striped ">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor="let cmnthstory of PageCommentHistory$|async">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template [ngIf]="cmnthstory.PageCommentDetailID == cmntDetails.PageCommentDetailID">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="min-height:60px;">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{cmnthstory.Response}}<br /><i>{{cmnthstory.ModifiedOn|date:\'dd/MM/yyyy h:mm:ss a\'}}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<table class="table table-striped ">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr *ngFor="let cmnthstory of PageCommentHistory$|async">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template [ngIf]="cmnthstory.PageCommentDetailID == cmntDetails.PageCommentDetailID">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td style="min-height:60px;">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{cmnthstory.CommentStatusName}} - <i>{{cmnthstory.CommentStatusDate | date:\'dd/MM/yyyy h:mm:ss a\'}}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td class="hidden-xs">{{cmntDetails.CommentedByName}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span *ngIf="cmntDetails.Flag==\'O\' ||cmntDetails.Flag==\'C\'" class="btn btn-xs blue fileinput-button" (click)="openCommentHistoryPopUp(cmntDetails.PageCommentDetailID,i+1);" href="javascript:void()" data-toggle="modal">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span> Edit</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\x3c!-- END SAMPLE TABLE PORTLET--\x3e\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n'}}]);